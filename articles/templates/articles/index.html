{% extends 'base.html' %}
{% load django_bootstrap5 %}
{% load static %}

{% block content %}
{% if not user.is_authenticated %}
<div class="intro-bg" id="box">
  <div class="intro-box" id="box">
    <video class='intro-mv' muted autoplay>
      <source src="{% static 'movies/main_intro.mp4' %}" type="video/mp4">
      <strong>Your browser does not support the video tag.</strong>
    </video>
    <div class="jb-text">
      <p></p>
    </div>
  </div>
  <script type="text/javascript" src="{% static 'JS/movie.js'%}"></script>
</div>
{% endif %}

<div class="movie-box">
  <div class="jb-box d-flex align-items-center">
    <video class="banner-mv" muted autoplay>
      <source src="{% static 'movies/main_banner.mp4' %}" type="video/mp4">
      <strong>Your browser does not support the video tag.</strong>
    </video>
  </div>
    <div class="jb-text">
      <p></p>
    </div>
  </div>
</div>
<div class="container ">
  {% if user.is_authenticated and user.team %}
  <div class="row py-4 my-5 d-flex justify-content-center bg-white" style="border-top: 1rem solid {{ user.team.color }}; border-bottom: 1rem solid {{ user.team.color }}">
  {% else %}
  <div class="row py-4 my-5 d-flex justify-content-center bg-light" style="border-top: 1rem solid grey; border-bottom: 1rem solid grey">
  {% endif %}
    <div class="d-flex flex-column align-items-center my-3">
      <h2 class="fw-bold" style="font-size:2.5rem;">íŒ€ë³„ ë¨¹ê±°ë¦¬ ë³´ëŸ¬ê°€ê¸°<h2>
      <p class="" style="color:gray; font-size:1.2rem;">êµ¬ì¥ë³„ ë§›ì§‘ ì •ë³´ë¥¼ ì°¾ì•„ë³´ì„¸ìš”ğŸ˜€</p>
    </div>
    {% for team in teams %}
    <div class="team-card text-bg-white col-5 col-sm-3 col-lg-2 m-1 p-0">
      {% if team == user.team %}
      <div class="front" style="background-color:{{ team.color }}55;  border: 1rem ridge {{ team.color }}; border-radius:5%;">
      {% else %}
      <div class="front" style="background-color:white;  border: 1rem ridge {{ team.color }}; border-radius:5%;">
      {% endif %}
          <img src="{{ team.logo.url }}" class="card-img" alt="..."> <!--ì•ë©´-->
        
      </div>
      <a class="text-decoration-none text-center text-wrap" href="{% url 'foods:home' team.pk %}">
        <div class="back" style="background-color:{{ team.color }}; border: 1rem ridge {{ team.color }}; border-radius:5%;">
          <img src="{{ team.mascot.url }}" class="card-img" alt="..."> <!--ë’·ë©´-->
        </div>
      </a>
    </div>
    


    {% endfor %}
  </div>
  <div class="container">
    <section class="my-5 py-5">
      <div class="d-flex flex-column align-items-center mt-3">
        <h2 class="fw-bold" style="font-size:2.5rem;">ì¸ê¸° ë¦¬ë·°<h2>
        <p class="" style="color:gray; font-size:1.2rem;">ê°€ì¥ ì¸ê¸°ìˆëŠ” ë¦¬ë·°ë¥¼ ì°¾ì•„ë³´ì„¸ìš”ğŸ’¯</p>
      </div>

      <!-- ì¹´ë“œ ìŠ¬ë¼ì´ë” íš¨ê³¼ -->
      <div class='slider'>

        <div class='slide-track'>

          <div class='slide'>
            <div class="train-card bg-white p-3">
              <a href="">
                <img src="{% static 'images/logo.png' %}" class="card-img-top" alt="...">
              </a>
              <div class="card-body py-2 border-top">
                <h5 class="card-title text-center">"ë¦¬ë·°ì œëª©"</h5>
                <p class="card-text small">
                  ë¦¬ë·° ë‚´ìš© ë¦¬ë·° ë‚´ìš© ë¦¬ë·° ë‚´ìš© ë¦¬ë·° ë‚´ìš©...
                </p>
                <p class="small m-0">ì ì‹¤ì•¼êµ¬ì¥</p>
                <p class="small m-0">â­â­â­â­â­(27ëª… í‰ê°€)</p>
              </div>
            </div>
          </div>
          <div class='slide'>
            <div class="train-card border border-1 bg-white p-3">
              <a href="">
                <img src="{% static 'images/logo.png' %}" class="card-img-top" alt="...">
              </a>
              <div class="card-body py-2 border-top">
                <h5 class="card-title text-center">"ë¦¬ë·°ì œëª©"</h5>
                <p class="card-text small">
                  ë¦¬ë·° ë‚´ìš© ë¦¬ë·° ë‚´ìš© ë¦¬ë·° ë‚´ìš© ë¦¬ë·° ë‚´ìš©...
                </p>
                <p class="small m-0">ì ì‹¤ì•¼êµ¬ì¥</p>
                <p class="small m-0">â­â­â­â­â­(27ëª… í‰ê°€)</p>
              </div>
            </div>
          </div>
          <div class='slide'>
            <div class="train-card border border-1 bg-white p-3">
              <a href="">
                <img src="{% static 'images/logo.png' %}" class="card-img-top" alt="...">
              </a>
              <div class="card-body py-2 border-top">
                <h5 class="card-title text-center">"ë¦¬ë·°ì œëª©"</h5>
                <p class="card-text small">
                  ë¦¬ë·° ë‚´ìš© ë¦¬ë·° ë‚´ìš© ë¦¬ë·° ë‚´ìš© ë¦¬ë·° ë‚´ìš©...
                </p>
                <p class="small m-0">ì ì‹¤ì•¼êµ¬ì¥</p>
                <p class="small m-0">â­â­â­â­â­(27ëª… í‰ê°€)</p>
              </div>
            </div>
          </div>
          <div class='slide'>
            <div class="train-card border border-1 bg-white p-3">
              <a href="">
                <img src="{% static 'images/logo.png' %}" class="card-img-top" alt="...">
              </a>
              <div class="card-body py-2 border-top">
                <h5 class="card-title text-center">"ë¦¬ë·°ì œëª©"</h5>
                <p class="card-text small">
                  ë¦¬ë·° ë‚´ìš© ë¦¬ë·° ë‚´ìš© ë¦¬ë·° ë‚´ìš© ë¦¬ë·° ë‚´ìš©...
                </p>
                <p class="small m-0">ì ì‹¤ì•¼êµ¬ì¥</p>
                <p class="small m-0">â­â­â­â­â­(27ëª… í‰ê°€)</p>
              </div>
            </div>
          </div>
          <div class='slide'>
            <div class="train-card border border-1 bg-white p-3">
              <a href="">
                <img src="{% static 'images/logo.png' %}" class="card-img-top" alt="...">
              </a>
              <div class="card-body py-2 border-top">
                <h5 class="card-title text-center">"ë¦¬ë·°ì œëª©"</h5>
                <p class="card-text small">
                  ë¦¬ë·° ë‚´ìš© ë¦¬ë·° ë‚´ìš© ë¦¬ë·° ë‚´ìš© ë¦¬ë·° ë‚´ìš©...
                </p>
                <p class="small m-0">ì ì‹¤ì•¼êµ¬ì¥</p>
                <p class="small m-0">â­â­â­â­â­(27ëª… í‰ê°€)</p>
              </div>
            </div>
          </div>
          <div class='slide'>
            <div class="train-card border border-1 bg-white p-3">
              <a href="">
                <img src="{% static 'images/logo.png' %}" class="card-img-top" alt="...">
              </a>
              <div class="card-body py-2 border-top">
                <h5 class="card-title text-center">"ë¦¬ë·°ì œëª©"</h5>
                <p class="card-text small">
                  ë¦¬ë·° ë‚´ìš© ë¦¬ë·° ë‚´ìš© ë¦¬ë·° ë‚´ìš© ë¦¬ë·° ë‚´ìš©...
                </p>
                <p class="small m-0">ì ì‹¤ì•¼êµ¬ì¥</p>
                <p class="small m-0">â­â­â­â­â­(27ëª… í‰ê°€)</p>
              </div>
            </div>
          </div>

          <!-- í•œë²ˆ ë” ë°˜ë³µí•˜ê¸° -->

          
          <div class='slide'>
            <div class="train-card border border-1 bg-white p-3">
              <a href="">
                <img src="{% static 'images/logo.png' %}" class="card-img-top" alt="...">
              </a>
              <div class="card-body py-2 border-top">
                <h5 class="card-title text-center">"ë¦¬ë·°ì œëª©"</h5>
                <p class="card-text small">
                  ë¦¬ë·° ë‚´ìš© ë¦¬ë·° ë‚´ìš© ë¦¬ë·° ë‚´ìš© ë¦¬ë·° ë‚´ìš©...
                </p>
                <p class="small m-0">ì ì‹¤ì•¼êµ¬ì¥</p>
                <p class="small m-0">â­â­â­â­â­(27ëª… í‰ê°€)</p>
              </div>
            </div>
          </div>
          <div class='slide'>
            <div class="train-card border border-1 bg-white p-3">
              <a href="">
                <img src="{% static 'images/logo.png' %}" class="card-img-top" alt="...">
              </a>
              <div class="card-body py-2 border-top">
                <h5 class="card-title text-center">"ë¦¬ë·°ì œëª©"</h5>
                <p class="card-text small">
                  ë¦¬ë·° ë‚´ìš© ë¦¬ë·° ë‚´ìš© ë¦¬ë·° ë‚´ìš© ë¦¬ë·° ë‚´ìš©...
                </p>
                <p class="small m-0">ì ì‹¤ì•¼êµ¬ì¥</p>
                <p class="small m-0">â­â­â­â­â­(27ëª… í‰ê°€)</p>
              </div>
            </div>
          </div>
          <div class='slide'>
            <div class="train-card border border-1 bg-white p-3">
              <a href="">
                <img src="{% static 'images/logo.png' %}" class="card-img-top" alt="...">
              </a>
              <div class="card-body py-2 border-top">
                <h5 class="card-title text-center">"ë¦¬ë·°ì œëª©"</h5>
                <p class="card-text small">
                  ë¦¬ë·° ë‚´ìš© ë¦¬ë·° ë‚´ìš© ë¦¬ë·° ë‚´ìš© ë¦¬ë·° ë‚´ìš©...
                </p>
                <p class="small m-0">ì ì‹¤ì•¼êµ¬ì¥</p>
                <p class="small m-0">â­â­â­â­â­(27ëª… í‰ê°€)</p>
              </div>
            </div>
          </div>
          <div class='slide'>
            <div class="train-card border border-1 bg-white p-3">
              <a href="">
                <img src="{% static 'images/logo.png' %}" class="card-img-top" alt="...">
              </a>
              <div class="card-body py-2 border-top">
                <h5 class="card-title text-center">"ë¦¬ë·°ì œëª©"</h5>
                <p class="card-text small">
                  ë¦¬ë·° ë‚´ìš© ë¦¬ë·° ë‚´ìš© ë¦¬ë·° ë‚´ìš© ë¦¬ë·° ë‚´ìš©...
                </p>
                <p class="small m-0">ì ì‹¤ì•¼êµ¬ì¥</p>
                <p class="small m-0">â­â­â­â­â­(27ëª… í‰ê°€)</p>
              </div>
            </div>
          </div>
          <div class='slide'>
            <div class="train-card border border-1 bg-white p-3">
              <a href="">
                <img src="{% static 'images/logo.png' %}" class="card-img-top" alt="...">
              </a>
              <div class="card-body py-2 border-top">
                <h5 class="card-title text-center">"ë¦¬ë·°ì œëª©"</h5>
                <p class="card-text small">
                  ë¦¬ë·° ë‚´ìš© ë¦¬ë·° ë‚´ìš© ë¦¬ë·° ë‚´ìš© ë¦¬ë·° ë‚´ìš©...
                </p>
                <p class="small m-0">ì ì‹¤ì•¼êµ¬ì¥</p>
                <p class="small m-0">â­â­â­â­â­(27ëª… í‰ê°€)</p>
              </div>
            </div>
          </div>
          <div class='slide'>
            <div class="train-card border border-1 bg-white p-3">
              <a href="">
                <img src="{% static 'images/logo.png' %}" class="card-img-top" alt="...">
              </a>
              <div class="card-body py-2 border-top">
                <h5 class="card-title text-center">"ë¦¬ë·°ì œëª©"</h5>
                <p class="card-text small">
                  ë¦¬ë·° ë‚´ìš© ë¦¬ë·° ë‚´ìš© ë¦¬ë·° ë‚´ìš© ë¦¬ë·° ë‚´ìš©...
                </p>
                <p class="small m-0">ì ì‹¤ì•¼êµ¬ì¥</p>
                <p class="small m-0">â­â­â­â­â­(27ëª… í‰ê°€)</p>
              </div>
            </div>
          </div>
        </div>
      </div>

    </section>
    <section class="row d-flex justify-content-center mt-5">

      <div class="col-12 col-md-6 col-xl-5 mt-4">
        <div class="pt-4 px-5" style="background-color:white; border-radius:10px; overflow:hidden; height:522px;">
          <h2 class=" fw-bold">íŒ€ ìˆœìœ„</h2>
          <p class="" style="color:gray; font-size:1rem;">ìš°ë¦¬ íŒ€ ìˆœìœ„ë¥¼ í™•ì¸í•˜ì„¸ìš”ğŸ–ï¸</p>
          <table class="table table-borderless rounded-1 bg-white text-center" style="font-size:1rem;">
            <tbody>
              {% for team in teams %}
              {% if team == user.team %}
              <tr style="border:2px solid {{ team.color }};">
              {% else %}
              <tr>
              {% endif %}
                <th scope="row">{{ team.pk }}</th>
                <td>
                  <img src="{{ team.logo.url }}" style="width:1.5rem; height:1.5rem">
                  {{ team.name }}
                </td>
              </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>
      </div>

      <div class="col-12 col-md-6 col-xl-7 mt-4">
        <div class="pt-4 ps-5" style="background-color:white; border-radius:10px; overflow:hidden; height:522px;">
          {% if user.is_authenticated and user.team %}
          <h2 class="fw-bold"><span style="border-bottom : 3px double {{user.team.color}};">{{ user.team.name }}</span> ê²Œì‹œíŒ</h2>
          <p class="" style="color:gray; font-size:1rem;">ìš°ë¦¬ íŒ€ ìµœì‹  ê²Œì‹œê¸€ì„ í™•ì¸í•˜ì„¸ìš”ğŸ”¥</p>
          {% else %}
          <h2 class="fw-bold">í†µí•© ê²Œì‹œíŒì˜ ìµœì‹  ê¸€<h2>
          <p class="" style="color:gray; font-size:1rem;">ìµœì‹  ê²Œì‹œê¸€ì„ í™•ì¸í•˜ì„¸ìš”ğŸ”¥</p>
          {% endif %}
            <table class="mt-4">
              <tbody class="text-center">
                {% for article in articles %}
                {% if article.user.team == user.team %}
                <tr class="mt-4" style="font-size:1.2rem; margin:2rem 0 2rem 0; height:2.8rem;">
                  <th scope="row" style="font-size:1.2rem; font-weight:500; color:gray;">{{ article.category }}</th>
                  <td class="text-start" style="font-size:1.2rem;"><a href="{% url 'articles:detail' article.pk %}" class="text-black text-decoration-none">{{ article.title }}</a></td>
                </tr>
                {% endif %}
                {% endfor %}
              </tbody>
            </table>
            <div class="small text-end me-5"><a class="text-decoration-none text-black fs-6" href="{% url 'articles:community' %}">ì „ì²´ê¸€ ë³´ê¸°></a></div>
          </div>
        </div>
      </div>

      <div class="col-12 col-md-12 col-xl-12 col-xxl-12 px-2 mt-4">
        <div class="row pt-4 px-5 d-flex" style="background-color:white; border-radius:10px; overflow:hidden;">
          <div class="col-12 col-md-5">
            <h2 class=" fw-bold">ë‰´ìŠ¤ ê¸°ì‚¬</h2>
            <p class="" style="color:gray; font-size:1rem;">ìµœì‹  ë‰´ìŠ¤ë¥¼ í™•ì¸í•´ë³´ì„¸ìš”ğŸ“°</p>
          </div>
          <div style="overflow:hidden;" id="carouselExampleControls" class="col-12 col-md-7 carousel slide rotate-carousel w-25" data-bs-ride="carousel">
              <div class="carousel-inner">
                <div class="carousel-item active rotate-carousel-inner">
                  <p>ê¸€ì ìºëŸ¬ì…€ í…ŒìŠ¤íŠ¸ alphabet 11111111</p>
                </div>
                <div class="carousel-item rotate-carousel-inner">
                  <p>ê¸€ì ìºëŸ¬ì…€ í…ŒìŠ¤íŠ¸ alphabet 22222222</p>
                </div>
                <div class="carousel-item rotate-carousel-inner">
                  <p>ê¸€ì ìºëŸ¬ì…€ í…ŒìŠ¤íŠ¸ alphabet 33333333</p>
                </div>
              </div>
            </div>
        </div>
      </div>

      

      <!-- ë„¤ì´ë²„ ë‰´ìŠ¤ API -->
      {% for news in temp_news.items %}
        <a href="{{ news.link }}"><p>{{ news.title }}</p></a>
      {% endfor %}
    </section>
  </div>
</div>

{% comment %} <script>
  let observer = new IntersectionObserver((e) => {
    e.forEach((box)=>{
      box.target.opacity = 1;
    })
  })
  
  let h2 = document.querySelectorAll("h2")
  observer.observer(h2[0])
  observer.observer(h2[1])

</script> {% endcomment %}
{% endblock %}